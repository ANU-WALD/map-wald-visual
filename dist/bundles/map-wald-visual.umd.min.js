!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@angular/core"),require("@angular/forms"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common/http"),require("ngx-pipes"),require("@agm/core"),require("@angular/common"),require("map-wald"),require("store"),require("@agm/core/services/google-maps-types"),require("plotly.js/dist/plotly-basic"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("map-wald-visual",["@angular/core","@angular/forms","@ng-bootstrap/ng-bootstrap","@angular/common/http","ngx-pipes","@agm/core","@angular/common","map-wald","store","@agm/core/services/google-maps-types","plotly.js/dist/plotly-basic","rxjs/operators","rxjs"],t):(e=e||self)["map-wald-visual"]=t(e.ng.core,e.ng.forms,e.ngBootstrap,e.ng.common.http,e.ngxPipes,e.core$1,e.ng.common,e.mapWald,e.store,e.googleMapsTypes,e.plotlyBasic,e.rxjs.operators,e.rxjs)}(this,(function(e,t,n,o,a,i,r,l,s,p,c,d,m){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,n=n&&n.hasOwnProperty("default")?n.default:n,o=o&&o.hasOwnProperty("default")?o.default:o,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i,r=r&&r.hasOwnProperty("default")?r.default:r,l=l&&l.hasOwnProperty("default")?l.default:l,s=s&&s.hasOwnProperty("default")?s.default:s,p=p&&p.hasOwnProperty("default")?p.default:p,c=c&&c.hasOwnProperty("default")?c.default:c,d=d&&d.hasOwnProperty("default")?d.default:d,m=m&&m.hasOwnProperty("default")?m.default:m;var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e,t){return e(t={exports:{}},t.exports),t.exports}var g=h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.WMSLayerComponent=void 0;var o=e,a=l,r=i,s=function(){function e(e,t){this._wmsService=e,this._wrapper=t,this.opacity=1,this.position=0,this.zoom=4,this.building=!1}return e.prototype.buildMap=function(){var e=this;this.building||(this.building=!0,this._wrapper.getNativeMap().then((function(t){if(e.building=!1,e.map=t,e.overlay=e._wmsService.buildImageMap((function(){return e.map}),(function(t){return e.url+"?"}),(function(t){return e.params}),(function(){return e.opacity})),e.map.overlayMapTypes.length>e.position)e.map.overlayMapTypes.removeAt(e.position),e.map.overlayMapTypes.insertAt(e.position,e.overlay);else for(;e.map.overlayMapTypes.length<=e.position;)e.map.overlayMapTypes.push(e.overlay)})).catch((function(e){return console.log(e)})))},e.prototype.ngOnInit=function(){this.url&&this.buildMap()},e.prototype.ngOnChanges=function(e){this.url&&this.buildMap()},e.prototype.ngOnDestroy=function(){var e=this;this._wrapper.getNativeMap().then((function(t){e.map.overlayMapTypes.length>e.position&&e.map.overlayMapTypes.removeAt(e.position)}))},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(a.WMSService),o.ɵɵdirectiveInject(r.GoogleMapsAPIWrapper))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["wms-layer"]],inputs:{url:"url",params:"params",opacity:"opacity",position:"position"},features:[o.ɵɵNgOnChangesFeature],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e}();n.WMSLayerComponent=s})),y=(f(g),g.WMSLayerComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.MapLegendComponent=void 0;var a=e,i=l;function s(e,t){if(1&e&&a.ɵɵelement(0,"span",5),2&e){var n=a.ɵɵnextContext();a.ɵɵproperty("innerHtml",n.helpText,a.ɵɵsanitizeHtml)}}function p(e,t){if(1&e&&a.ɵɵelement(0,"span",6),2&e){var n=a.ɵɵnextContext();a.ɵɵproperty("innerHTML","("+n.mapUnits+")",a.ɵɵsanitizeHtml)}}function c(e,t){if(1&e&&(a.ɵɵelementStart(0,"span",7),a.ɵɵelement(1,"i",8),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext(),o=a.ɵɵreference(2);a.ɵɵproperty("ngbTooltip",o)("placement",n.tooltipPlacement)}}var d=function(e){return{background:e}};function m(e,t){if(1&e&&(a.ɵɵelementStart(0,"div",11),a.ɵɵelementStart(1,"div",12),a.ɵɵelement(2,"i",13),a.ɵɵelementEnd(),a.ɵɵelementStart(3,"div",14),a.ɵɵelement(4,"span",6),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e){var n=t.$implicit,o=t.index,i=a.ɵɵnextContext(2);a.ɵɵadvance(2),a.ɵɵproperty("ngStyle",a.ɵɵpureFunction1(2,d,n)),a.ɵɵadvance(2),a.ɵɵproperty("innerHTML",i.generatedLabels[o],a.ɵɵsanitizeHtml)}}function u(e,t){if(1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵelementStart(1,"div",9),a.ɵɵtemplate(2,m,5,4,"div",10),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(2),a.ɵɵproperty("ngForOf",n.colours)}}function f(e,t){if(1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵelement(1,"img",15),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(1),a.ɵɵproperty("src",n.imageURL,a.ɵɵsanitizeUrl)}}function h(e,t){if(1&e&&(a.ɵɵelementStart(0,"p"),a.ɵɵtext(1,"Source: "),a.ɵɵelementStart(2,"a",16),a.ɵɵtext(3),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(2),a.ɵɵproperty("href",n.attributionLink,a.ɵɵsanitizeUrl),a.ɵɵadvance(1),a.ɵɵtextInterpolate(n.attribution||"details")}}function g(e,t){if(1&e&&(a.ɵɵelementStart(0,"p"),a.ɵɵtext(1),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(1),a.ɵɵtextInterpolate1("Source: ",n.attribution,"")}}var y=function(){function e(e){this._palettes=e,this.colours=["red","white","blue"],this.labels=[],this.title="the title",this.mapUnits="",this.helpText="No comment",this.tooltipPlacement="right",this.generatedLabels=[],this.formatValue=function(e,t){if(!e)return 0===e?"0":"-";var n=e.toString().split(".");return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t?n[0]:(null!=t&&2===n.length&&(n[1]=n[1].substr(0,t),n[1]=n[1].replace(/0+$/,"")),n.join("."))}}return Object.defineProperty(e.prototype,"cbPalette",{get:function(){return this._cbPalette},set:function(e){this._cbPalette=e,this.generatePalette()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cbCount",{get:function(){return this._cbCount},set:function(e){this._cbCount=e,this.generatePalette()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cbReverse",{get:function(){return this._cbReverse},set:function(e){this._cbReverse=e,this.generatePalette()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cbRange",{get:function(){return this._cbRange},set:function(e){this._cbRange=e,this.generatePalette()},enumerable:!1,configurable:!0}),e.prototype.generateLabels=function(e){if(!this._cbRange||!e)return null;var t,n=(this._cbRange[1]-this._cbRange[0])/e,o=[],a=this._cbRange[0],i=Math.max(0,2-+Math.log10(this._cbRange[1]-this._cbRange[0]).toFixed());i=Math.min(i,10);for(var r=1;r<e;r++)t=this._cbRange[0]+r*n,o.push(this.formatValue(a,i)+"-"+this.formatValue(t,i)),a=t;return o.push("&ge;"+this.formatValue(t,i)),o.reverse(),o},e.prototype.generatePalette=function(){var e=this;this._cbPalette&&this._cbCount&&this._palettes.getPalette(this._cbPalette,this._cbReverse,this._cbCount).subscribe((function(t){e.colours=t.slice().reverse(),e.generatedLabels=e.labels||e.generateLabels(e.colours.length)||t}))},e.prototype.ngOnInit=function(){},e.ɵfac=function(t){return new(t||e)(a.ɵɵdirectiveInject(i.PaletteService))},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["map-legend"]],inputs:{imageURL:"imageURL",colours:"colours",labels:"labels",title:"title",mapUnits:"mapUnits",helpText:"helpText",tooltipPlacement:"tooltipPlacement",attribution:"attribution",attributionLink:"attributionLink",cbPalette:"cbPalette",cbCount:"cbCount",cbReverse:"cbReverse",cbRange:"cbRange"},decls:11,vars:7,consts:[[1,"map-legend","panel","panel-group"],["tooltipContent",""],[3,"innerHTML",4,"ngIf"],["container","body",3,"ngbTooltip","placement",4,"ngIf"],[4,"ngIf"],[3,"innerHtml"],[3,"innerHTML"],["container","body",3,"ngbTooltip","placement"],[1,"fa","fa-info-circle"],[2,"display","table","line-height","15px"],["style","display:table-row;padding:0;",4,"ngFor","ngForOf"],[2,"display","table-row","padding","0"],[1,"legend-colour"],[1,"legend-entry",3,"ngStyle"],[1,"legend-label"],[3,"src"],[3,"href"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"div",0),a.ɵɵtemplate(1,s,1,1,"ng-template",null,1,a.ɵɵtemplateRefExtractor),a.ɵɵelementStart(3,"strong"),a.ɵɵtext(4),a.ɵɵtemplate(5,p,1,1,"span",2),a.ɵɵtemplate(6,c,2,2,"span",3),a.ɵɵelementEnd(),a.ɵɵtemplate(7,u,3,1,"div",4),a.ɵɵtemplate(8,f,2,1,"div",4),a.ɵɵtemplate(9,h,4,2,"p",4),a.ɵɵtemplate(10,g,2,1,"p",4),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(4),a.ɵɵtextInterpolate1("",t.title," "),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.mapUnits),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.helpText),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",!t.imageURL),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.imageURL),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.attributionLink),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.attribution&&!t.attributionLink))},directives:[r.NgIf,n.NgbTooltip,r.NgForOf,r.NgStyle],styles:[".map-legend[_ngcontent-%COMP%]{\n  display:block;\n  background: white;\n}\n\n.legend-colour[_ngcontent-%COMP%]{\n  display:table-cell;\n  padding:0px;\n}\n\n.legend-label[_ngcontent-%COMP%]{\n  display:table-cell;\n  padding:0px 4px 2px 2px;\n  font-size:10px;\n  vertical-align:middle;\n}\n\n.legend-entry[_ngcontent-%COMP%] {\n  float: left;\n  width: 15px !important;\n  height: 15px !important;\n}"]}),e}();o.MapLegendComponent=y}))),v=(f(y),y.MapLegendComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.MapControlComponent=void 0;var o=e,a=i,r=["mapControl"],l=["*"],s=function(){function e(e,t){this._el=e,this._wrapper=t,this.position="TOP_RIGHT"}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var e=this;this._wrapper.getNativeMap().then((function(t){var n=e._el.nativeElement.querySelector(".map-control-content");if("DIV"!==n.nodeName){var o=document.createElement("div");o.appendChild(n),n=o}t.controls[window.google.maps.ControlPosition[e.position]].push(n)}))},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(o.ElementRef),o.ɵɵdirectiveInject(a.GoogleMapsAPIWrapper))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["map-control"]],viewQuery:function(e,t){if(1&e&&o.ɵɵviewQuery(r,!0),2&e){var n;o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.mapControl=n.first)}},inputs:{position:"position"},ngContentSelectors:l,decls:3,vars:0,consts:[[1,"map-control-content"],["mapControl",""]],template:function(e,t){1&e&&(o.ɵɵprojectionDef(),o.ɵɵelementStart(0,"div",0,1),o.ɵɵprojection(2),o.ɵɵelementEnd())},styles:[".map-control-content[_ngcontent-%COMP%]{\n  background: transparent;\n}"]}),e}();n.MapControlComponent=s}))),C=(f(v),v.MapControlComponent,h((function(n,o){Object.defineProperty(o,"__esModule",{value:!0}),o.DateShifterComponent=void 0;var a=e,i=function(){function n(){this.interval=2e3,this.limits=null,this.date=new Date,this.dateChange=new e.EventEmitter,this.value=0,this.label="-",this.timer=0,this.dateText="-"}return n.prototype.ngOnChanges=function(e){e.interval&&this.startTimer()},n.prototype.startTimer=function(){var e=this;this.timer&&clearInterval(this.timer),this.timer=window.setInterval((function(){return e.tick()}),this.interval)},n.prototype.ngAfterViewInit=function(){this.startTimer()},n.prototype.reset=function(){this.value=0,this.sliderMoved()},n.prototype.tick=function(){if(this.value){var e=this.value<0?-1:1;switch(this.date=new Date(this.date.getTime()),Math.abs(this.value)){case 1:this.date.setDate(this.date.getDate()+e);break;case 2:this.date.setDate(this.date.getDate()+7*e);break;case 3:this.date.setMonth(this.date.getMonth()+e);break;case 4:this.date.setFullYear(this.date.getFullYear()+e)}this.limits&&this.limits.length&&(this.date.getTime()<this.limits[0].getTime()&&(this.date=this.limits[0]),this.date.getTime()>this.limits[1].getTime()&&(this.date=this.limits[1])),this.setDateText(),this.dateChange.emit(this.date)}},n.prototype.setDateText=function(){this.dateText=this.date.toLocaleDateString()},n.prototype.sliderMoved=function(){this.setLabel()},n.prototype.setLabel=function(){switch(this.value<0?this.label="back 1":this.value>0?this.label="advance 1":this.label="-",Math.abs(this.value)){case 1:this.label+="day";break;case 2:this.label+="week";break;case 3:this.label+="month";break;case 4:this.label+="year"}},n.ɵfac=function(e){return new(e||n)},n.ɵcmp=a.ɵɵdefineComponent({type:n,selectors:[["date-shifter"]],inputs:{interval:"interval",limits:"limits",date:"date"},outputs:{dateChange:"dateChange"},features:[a.ɵɵNgOnChangesFeature],decls:6,vars:4,consts:[["type","range","min","-4","step","1",1,"form-control",3,"max","ngModel","ngModelChange","mouseup"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵelementStart(1,"h3"),a.ɵɵtext(2),a.ɵɵelementEnd(),a.ɵɵelementStart(3,"input",0),a.ɵɵlistener("ngModelChange",(function(e){return t.value=e}))("ngModelChange",(function(){return t.sliderMoved()}))("mouseup",(function(){return t.reset()})),a.ɵɵelementEnd(),a.ɵɵelementStart(4,"h4"),a.ɵɵtext(5),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(2),a.ɵɵtextInterpolate(t.dateText),a.ɵɵadvance(1),a.ɵɵproperty("max",4)("ngModel",t.value),a.ɵɵadvance(2),a.ɵɵtextInterpolate(t.label))},directives:[t.RangeValueAccessor,t.DefaultValueAccessor,t.NgControlStatus,t.NgModel],styles:[""]}),n}();o.DateShifterComponent=i}))),b=(f(C),C.DateShifterComponent,h((function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.OneTimeSplashComponent=void 0;var i=e,l=n,p=["splashTemplate"];function c(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"label"),i.ɵɵelementStart(1,"input",9),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).doNotShow=e}))("ngModelChange",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).doNotShowClicked()})),i.ɵɵelementEnd(),i.ɵɵtext(2),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext(2);i.ɵɵadvance(1),i.ɵɵproperty("ngModel",o.doNotShow),i.ɵɵadvance(1),i.ɵɵtextInterpolate1("   ",o.hideMessage," ")}}function d(e,t){if(1&e&&(i.ɵɵelementStart(0,"div",1),i.ɵɵelementStart(1,"h4",2),i.ɵɵtext(2),i.ɵɵelementEnd(),i.ɵɵelementStart(3,"button",3),i.ɵɵlistener("click",(function(){return(0,t.dismiss)("Cross click")})),i.ɵɵelementStart(4,"span",4),i.ɵɵtext(5,"×"),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementStart(6,"div",5),i.ɵɵprojection(7),i.ɵɵelementEnd(),i.ɵɵelementStart(8,"div",6),i.ɵɵtemplate(9,c,3,2,"label",7),i.ɵɵelementStart(10,"button",8),i.ɵɵlistener("click",(function(){return(0,t.close)("Close click")})),i.ɵɵtext(11,"Close"),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵtextInterpolate1(" ",n.label,""),i.ɵɵadvance(7),i.ɵɵproperty("ngIf",n.application)}}var m=["*"],u=function(){function e(e){this.modalService=e,this.label="About",this.hideMessage="Understood, I don’t need to see this again"}return e.prototype.storageKey=function(){return this.application?this.application+"-splash-skip":null},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){var t=e.storageKey();t&&(e.doNotShow=s.get(t,!1)),e.doNotShow||e.show()}))},e.prototype.show=function(){this.current=this.modalService.open(this.splashTemplate,{size:"lg",windowClass:this.klass})},e.prototype.close=function(){this.current&&(this.current.close(),this.current=null)},e.prototype.doNotShowClicked=function(){var e=this.storageKey();e&&s.set(e,this.doNotShow)},e.ɵfac=function(t){return new(t||e)(i.ɵɵdirectiveInject(l.NgbModal))},e.ɵcmp=i.ɵɵdefineComponent({type:e,selectors:[["one-time-splash"]],viewQuery:function(e,t){if(1&e&&i.ɵɵviewQuery(p,!0),2&e){var n;i.ɵɵqueryRefresh(n=i.ɵɵloadQuery())&&(t.splashTemplate=n.first)}},inputs:{application:"application",label:"label",hideMessage:"hideMessage",klass:"klass"},ngContentSelectors:m,decls:2,vars:0,consts:[["splashTemplate",""],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","checkbox",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(i.ɵɵprojectionDef(),i.ɵɵtemplate(0,d,12,2,"ng-template",null,0,i.ɵɵtemplateRefExtractor))},directives:[r.NgIf,t.CheckboxControlValueAccessor,t.NgControlStatus,t.NgModel],styles:[""]}),e}();a.OneTimeSplashComponent=u}))),S=(f(b),b.OneTimeSplashComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DateElementComponent=void 0;var o=e,a=function(){function t(){this.step=1,this.changed=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){},t.prototype.move=function(e){this.src[this.property]+=e,this.changed.emit(this.src)},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=o.ɵɵdefineComponent({type:t,selectors:[["date-element"]],inputs:{label:"label",property:"property",src:"src",step:"step"},outputs:{changed:"changed"},decls:12,vars:2,consts:[[1,"row","no-gutters"],[1,"col-4"],[1,"col-2"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-angle-left"],[1,"btn","btn-link","btn-sm"],[1,"fa","fa-angle-right"]],template:function(e,t){1&e&&(o.ɵɵelementStart(0,"div",0),o.ɵɵelementStart(1,"div",1),o.ɵɵtext(2),o.ɵɵelementEnd(),o.ɵɵelementStart(3,"div",2),o.ɵɵelementStart(4,"button",3),o.ɵɵlistener("click",(function(){return t.move(-t.step)})),o.ɵɵelement(5,"i",4),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(6,"div",1),o.ɵɵelementStart(7,"button",5),o.ɵɵtext(8),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(9,"div",2),o.ɵɵelementStart(10,"button",3),o.ɵɵlistener("click",(function(){return t.move(t.step)})),o.ɵɵelement(11,"i",6),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e&&(o.ɵɵadvance(2),o.ɵɵtextInterpolate(t.label),o.ɵɵadvance(6),o.ɵɵtextInterpolate(t.src[t.property]))},encapsulation:2}),t}();n.DateElementComponent=a}))),x=(f(S),S.DateElementComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ShareViewComponent=void 0;var a=e,i=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["share-view"]],decls:2,vars:1,consts:[["ngbTooltip","Share current view","placement","right",1,"btn","btn-secondary","btn-sm",3,"disabled"],[1,"fa","fa-share-alt"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd()),2&e&&a.ɵɵproperty("disabled",!0)},directives:[n.NgbTooltip],encapsulation:2}),e}();o.ShareViewComponent=i}))),w=(f(x),x.ShareViewComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.LocationSearchComponent=void 0;var a=e,i=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["location-search"]],decls:2,vars:1,consts:[["ngbTooltip","Location search","placement","right",1,"btn","btn-secondary","btn-sm",3,"disabled"],[1,"fa","fa-search"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd()),2&e&&a.ɵɵproperty("disabled",!0)},directives:[n.NgbTooltip],encapsulation:2}),e}();o.LocationSearchComponent=i}))),T=(f(w),w.LocationSearchComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.LayeredMapComponent=void 0;var o=e,s=l,c=i,d=["infoWindows"];function m(e,t){if(1&e&&o.ɵɵelement(0,"span",20),2&e){var n=o.ɵɵnextContext().$implicit;o.ɵɵproperty("innerHTML",n.html,o.ɵɵsanitizeHtml)}}function u(e,t){if(1&e&&(o.ɵɵelementStart(0,"agm-marker",16),o.ɵɵelementStart(1,"agm-info-window",17,18),o.ɵɵelementStart(3,"strong"),o.ɵɵtext(4),o.ɵɵelementEnd(),o.ɵɵtemplate(5,m,1,1,"span",19),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=t.$implicit;o.ɵɵproperty("longitude",n.loc.lng)("latitude",n.loc.lat)("iconUrl",n.iconUrl),o.ɵɵadvance(1),o.ɵɵproperty("disableAutoPan",!0),o.ɵɵadvance(3),o.ɵɵtextInterpolate(n.value),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.html)}}function f(e,t){if(1&e&&o.ɵɵelement(0,"wms-layer",25),2&e){var n=o.ɵɵnextContext().$implicit;o.ɵɵproperty("url",n.url)("params",n.wmsParameters)("opacity",n.opacity)("position",n.options.position)}}function h(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"agm-data-layer",26),o.ɵɵlistener("layerClick",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).clicked(e)})),o.ɵɵelementEnd()}if(2&e){var a=o.ɵɵnextContext().$implicit;o.ɵɵstyleMap(a._styleFunc),o.ɵɵproperty("geoJson",a.staticData)}}function y(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"agm-circle",28),o.ɵɵlistener("circleClick",(function(){o.ɵɵrestoreView(n);var e=t.$implicit,a=o.ɵɵnextContext(2).$implicit;return o.ɵɵnextContext().circleClicked(a,e)})),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,i=o.ɵɵnextContext(2).$implicit,r=o.ɵɵnextContext();o.ɵɵproperty("latitude",a.geometry.coordinates[1])("longitude",a.geometry.coordinates[0])("radius",1e7/(r.zoom*r.zoom*r.zoom*r.zoom))("fillColor",(null==i.flattenedSettings||null==i.flattenedSettings.styles?null:i.flattenedSettings.styles.fillColor)||"black")("fillOpacity",(null==i.flattenedSettings||null==i.flattenedSettings.styles?null:i.flattenedSettings.styles.fillOpacity)||1)("strokeColor",(null==i.flattenedSettings||null==i.flattenedSettings.styles?null:i.flattenedSettings.styles.strokeColor)||"black")("strokeOpacity",(null==i.flattenedSettings||null==i.flattenedSettings.styles?null:i.flattenedSettings.styles.strokeOpacity)||1)("strokePosition",0)("strokeWeight",a===r.selectedFeature?3:(null==i.flattenedSettings||null==i.flattenedSettings.styles?null:i.flattenedSettings.styles.strokeWeight)||.5)}}function C(e,t){if(1&e&&(o.ɵɵelementContainerStart(0),o.ɵɵtemplate(1,y,1,9,"agm-circle",27),o.ɵɵelementContainerEnd()),2&e){var n=o.ɵɵnextContext().$implicit;o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.staticData.features)}}function b(e,t){if(1&e&&(o.ɵɵelementContainerStart(0,21),o.ɵɵtemplate(1,f,1,4,"wms-layer",22),o.ɵɵtemplate(2,h,1,3,"agm-data-layer",23),o.ɵɵtemplate(3,C,2,1,"ng-container",24),o.ɵɵelementContainerEnd()),2&e){var n=t.$implicit;o.ɵɵproperty("ngSwitch",n.layerType),o.ɵɵadvance(1),o.ɵɵproperty("ngSwitchCase","wms"),o.ɵɵadvance(1),o.ɵɵproperty("ngSwitchCase","vector"),o.ɵɵadvance(1),o.ɵɵproperty("ngSwitchCase","circle")}}var S=[[["",8,"map-control","top-center"]],[["",8,"map-control","top-left"]],[["",8,"map-control","top-right"]],[["",8,"map-control","left-top"]],[["",8,"map-control","right-top"]],[["",8,"map-control","left-center"]],[["",8,"map-control","right-center"]],[["",8,"map-control","left-bottom"]],[["",8,"map-control","right-bottom"]],[["",8,"map-control","bottom-center"]],[["",8,"map-control","bottom-left"]],[["",8,"map-control","bottom-right"]]],x=[".map-control.top-center",".map-control.top-left",".map-control.top-right",".map-control.left-top",".map-control.right-top",".map-control.left-center",".map-control.right-center",".map-control.left-bottom",".map-control.right-bottom",".map-control.bottom-center",".map-control.bottom-left",".map-control.bottom-right"],w=function(){function t(t,n,o){this._zone=t,this.staticData=n,this.metadata=o,this.layers=[],this.markers=[],this.mapTypeId="roadmap",this.layersChange=new e.EventEmitter,this.featureSelected=new e.EventEmitter,this.pointSelected=new e.EventEmitter,this.mapTypePosition=p.ControlPosition.BOTTOM_LEFT,this.streetViewControl=!0,this.selectedFeature=null,this.zoom=4,this.showMapType=!0,this.mapTypeOptions={position:p.ControlPosition.BOTTOM_LEFT},this.lat=-22.673858,this.lng=129.815982}return t.prototype.ngOnChanges=function(e){var t=this;e.mapTypePosition&&(null===this.mapTypePosition&&(this.showMapType=!1),this.mapTypeOptions={position:this.mapTypePosition}),e.layers&&this.setLayerPositions(),e.markers&&this.markers&&(this.infoWindows&&this.infoWindows.forEach((function(e,n){t._zone.runOutsideAngular((function(){return e.close()}))})),setTimeout((function(){t.infoWindows.forEach((function(e,n){t.markers[n].open?t._zone.runOutsideAngular((function(){return e.open()})):t._zone.runOutsideAngular((function(){return e.close()}))}))}))),e.bounds&&setTimeout((function(){return t._bounds=t.bounds}))},t.prototype.ngAfterViewInit=function(){},t.prototype.layersChanged=function(e){},t.prototype.layerAdded=function(e){var t=this;if(!this.layers.find((function(t){return t.layer===e.layer}))){var n=new l.MappedLayer;n.layer=e.layer,n.layerType="wms",n.options.legend=!0,e.layer.options.vectors?this.staticData.get(e.layer.options.host,e.layer.options.filepath).subscribe((function(o){n.staticData=o,t.activateLayer(n,e)})):this.activateLayer(n,e)}},t.prototype.activateLayer=function(e,t){e.update(),"replace"===t.action&&(t.filter?this.layers=this.layers.filter((function(e){return!t.filter(e)})):this.layers=[]),this.layers=[e].concat(this.layers),this.setLayerPositions(),this.layersChange.emit(this.layers)},t.prototype.setLayerPositions=function(){for(var e=0,t=this.layers.length-1;t>=0;t--)"wms"===this.layers[t].layerType&&(this.layers[t].options.position=e,e++)},t.prototype.extractFeature=function(e){var t=e.getGeometry();t={type:"Point",coordinates:t.get(0)};var n={};return e.forEachProperty((function(e,t){return n[t]=e})),{type:"Feature",geometry:t,properties:n}},t.prototype.clicked=function(e){var t=this.extractFeature(e.feature);this.selectedFeature=t,this.featureSelected.emit({feature:t})},t.prototype.circleClicked=function(e,t){this.selectedFeature=t,this.featureSelected.emit({feature:t,layer:e})},t.prototype.mapClick=function(e){var t=e.coords;this.pointSelected.emit(t)},t.prototype.zoomToBounds=function(e){this._bounds=e},t.prototype.zoomChanged=function(){this.layers=this.layers.slice()},t.ɵfac=function(e){return new(e||t)(o.ɵɵdirectiveInject(o.NgZone),o.ɵɵdirectiveInject(s.StaticDataService),o.ɵɵdirectiveInject(s.MetadataService))},t.ɵcmp=o.ɵɵdefineComponent({type:t,selectors:[["layered-map"]],viewQuery:function(e,t){if(1&e&&(o.ɵɵviewQuery(i.AgmMap,!0),o.ɵɵviewQuery(d,!0)),2&e){var n=void 0;o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.theMap=n.first),o.ɵɵqueryRefresh(n=o.ɵɵloadQuery())&&(t.infoWindows=n)}},inputs:{layers:"layers",markers:"markers",mapTypeId:"mapTypeId",mapTypePosition:"mapTypePosition",streetViewControl:"streetViewControl",zoom:"zoom",showMapType:"showMapType",lat:"lat",lng:"lng",bounds:"bounds"},outputs:{layersChange:"layersChange",featureSelected:"featureSelected",pointSelected:"pointSelected"},features:[o.ɵɵNgOnChangesFeature],ngContentSelectors:x,decls:29,vars:14,consts:[["scaleControl","true",3,"latitude","longitude","zoom","disableDefaultUI","zoomControl","mapTypeId","mapTypeControl","mapTypeControlOptions","streetViewControl","fitBounds","latitudeChange","longitudeChange","zoomChange","mapClick"],["theMap",""],[3,"longitude","latitude","iconUrl",4,"ngFor","ngForOf"],[3,"ngSwitch",4,"ngFor","ngForOf"],["position","TOP_CENTER"],["position","TOP_LEFT"],["position","TOP_RIGHT"],["position","LEFT_TOP"],["position","RIGHT_TOP"],["position","LEFT_CENTER"],["position","RIGHT_CENTER"],["position","LEFT_BOTTOM"],["position","RIGHT_BOTTOM"],["position","BOTTOM_CENTER"],["position","BOTTOM_LEFT"],["position","BOTTOM_RIGHT"],[3,"longitude","latitude","iconUrl"],[3,"disableAutoPan"],["infoWindows",""],[3,"innerHTML",4,"ngIf"],[3,"innerHTML"],[3,"ngSwitch"],[3,"url","params","opacity","position",4,"ngSwitchCase"],[3,"geoJson","style","layerClick",4,"ngSwitchCase"],[4,"ngSwitchCase"],[3,"url","params","opacity","position"],[3,"geoJson","layerClick"],[3,"latitude","longitude","radius","fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","circleClick",4,"ngFor","ngForOf"],[3,"latitude","longitude","radius","fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","circleClick"]],template:function(e,t){1&e&&(o.ɵɵprojectionDef(S),o.ɵɵelementStart(0,"agm-map",0,1),o.ɵɵlistener("latitudeChange",(function(e){return t.lat=e}))("longitudeChange",(function(e){return t.lng=e}))("zoomChange",(function(e){return t.zoom=e}))("zoomChange",(function(){return t.zoomChanged()}))("mapClick",(function(e){return t.mapClick(e)})),o.ɵɵtemplate(2,u,6,6,"agm-marker",2),o.ɵɵtemplate(3,b,4,4,"ng-container",3),o.ɵɵpipe(4,"reverse"),o.ɵɵelementStart(5,"map-control",4),o.ɵɵprojection(6),o.ɵɵelementEnd(),o.ɵɵelementStart(7,"map-control",5),o.ɵɵprojection(8,1),o.ɵɵelementEnd(),o.ɵɵelementStart(9,"map-control",6),o.ɵɵprojection(10,2),o.ɵɵelementEnd(),o.ɵɵelementStart(11,"map-control",7),o.ɵɵprojection(12,3),o.ɵɵelementEnd(),o.ɵɵelementStart(13,"map-control",8),o.ɵɵprojection(14,4),o.ɵɵelementEnd(),o.ɵɵelementStart(15,"map-control",9),o.ɵɵprojection(16,5),o.ɵɵelementEnd(),o.ɵɵelementStart(17,"map-control",10),o.ɵɵprojection(18,6),o.ɵɵelementEnd(),o.ɵɵelementStart(19,"map-control",11),o.ɵɵprojection(20,7),o.ɵɵelementEnd(),o.ɵɵelementStart(21,"map-control",12),o.ɵɵprojection(22,8),o.ɵɵelementEnd(),o.ɵɵelementStart(23,"map-control",13),o.ɵɵprojection(24,9),o.ɵɵelementEnd(),o.ɵɵelementStart(25,"map-control",14),o.ɵɵprojection(26,10),o.ɵɵelementEnd(),o.ɵɵelementStart(27,"map-control",15),o.ɵɵprojection(28,11),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e&&(o.ɵɵproperty("latitude",t.lat)("longitude",t.lng)("zoom",t.zoom)("disableDefaultUI",!1)("zoomControl",!1)("mapTypeId",t.mapTypeId)("mapTypeControl",t.showMapType)("mapTypeControlOptions",t.mapTypeOptions)("streetViewControl",t.streetViewControl)("fitBounds",t._bounds),o.ɵɵadvance(2),o.ɵɵproperty("ngForOf",t.markers),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",o.ɵɵpipeBind1(4,12,t.layers.slice())))},directives:[c.AgmMap,r.NgForOf,v.MapControlComponent,c.AgmMarker,c.AgmInfoWindow,r.NgIf,r.NgSwitch,r.NgSwitchCase,g.WMSLayerComponent,c.AgmDataLayer,c.AgmCircle],pipes:[a.ReversePipe],encapsulation:2}),t}();n.LayeredMapComponent=w}))),M=(f(T),T.LayeredMapComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomLayerComponent=void 0;var a=e,i=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.prototype.zoomToLayer=function(){var e=this;this.layer.layer.spatialExtent?(console.log("Zoom to layer"),this.layer.layer.spatialExtent.subscribe((function(t){e.map.zoomToBounds(Object.assign({},t))}))):(console.log("Zoom full"),this.map.zoomToBounds(Object.assign({},this.fullBounds)))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["zoom-layer"]],inputs:{map:"map",layer:"layer",fullBounds:"fullBounds"},decls:2,vars:1,consts:[["type","button","ngbTooltip","Zoom to selected layer","placement","right",1,"btn","btn-secondary","btn-sm",3,"disabled","click"],[1,"fa","fa-compress"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.zoomToLayer()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd()),2&e&&a.ɵɵproperty("disabled",!t.layer)},directives:[n.NgbTooltip],encapsulation:2}),e}();o.ZoomLayerComponent=i}))),E=(f(M),M.ZoomLayerComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomFullComponent=void 0;var a=e,i=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.prototype.zoomToBounds=function(){this.map.zoomToBounds(Object.assign({},this.bounds))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["zoom-full"]],inputs:{map:"map",bounds:"bounds"},decls:2,vars:0,consts:[["ngbTooltip","Zoom to full extent","placement","right",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrows-alt"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.zoomToBounds()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd())},directives:[n.NgbTooltip],encapsulation:2}),e}();o.ZoomFullComponent=i}))),I=(f(E),E.ZoomFullComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomOutComponent=void 0;var a=e,i=function(){function e(){this.minZoom=1}return e.prototype.ngAfterViewInit=function(){},e.prototype.zoomOut=function(){this.map&&(this.map.zoom=Math.max(this.minZoom,this.map.zoom-1))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["zoom-out"]],inputs:{map:"map",minZoom:"minZoom"},decls:2,vars:0,consts:[["ngbTooltip","Zoom out","placement","right",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-minus"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.zoomOut()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd())},directives:[n.NgbTooltip],encapsulation:2}),e}();o.ZoomOutComponent=i}))),O=(f(I),I.ZoomOutComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ZoomInComponent=void 0;var a=e,i=function(){function e(){this.maxZoom=32}return e.prototype.ngAfterViewInit=function(){},e.prototype.zoomIn=function(){this.map&&(this.map.zoom=Math.min(this.maxZoom,this.map.zoom+1))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["zoom-in"]],inputs:{map:"map",maxZoom:"maxZoom"},decls:2,vars:0,consts:[["ngbTooltip","Zoom in","placement","right",1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-plus"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.zoomIn()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd())},directives:[n.NgbTooltip],encapsulation:2}),e}();o.ZoomInComponent=i}))),_=(f(O),O.ZoomInComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CycleBaseMapComponent=void 0;var a=e,i=function(){function e(){this.maxZoom=32,this.baseLayers=[{map_type_id:"roadmap",label:"Road Map"},{map_type_id:"satellite",label:"Satellite"}],this.tooltip="Toggle base layer"}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){this.baseLayers&&!this.baseLayer&&(this.baseLayer=this.baseLayers[0])},e.prototype.toggleBaseLayer=function(){var e=this;if(this.map){var t=(this.baseLayers.findIndex((function(t){return t.map_type_id===e.baseLayer.map_type_id}))+1)%this.baseLayers.length;this.baseLayer=this.baseLayers[t],this.map.mapTypeId=this.baseLayer?this.baseLayer.map_type_id:null}},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["cycle-base-map"]],inputs:{map:"map",maxZoom:"maxZoom",baseLayers:"baseLayers",baseLayer:"baseLayer",tooltip:"tooltip"},features:[a.ɵɵNgOnChangesFeature],decls:2,vars:2,consts:[["placement","right",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"fa",3,"ngClass"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.toggleBaseLayer()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd()),2&e&&(a.ɵɵproperty("ngbTooltip",t.tooltip),a.ɵɵadvance(1),a.ɵɵproperty("ngClass","Road Map"===(null==t.baseLayer?null:t.baseLayer.label)?"fa-road":"fa-globe"))},directives:[n.NgbTooltip,r.NgClass],encapsulation:2}),e}();o.CycleBaseMapComponent=i}))),k=(f(_),_.CycleBaseMapComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CycleOpacityComponent=void 0;var a=e,i=function(){function e(){this.maxZoom=32,this.tooltip="Adjust transparency of grid layer",this.layerOpacity=1,this.step=.4}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){var t=this;this.map&&this.map.layersChange.subscribe((function(){return t.updateLayers()}))},e.prototype.cycleTransparency=function(){this.layerOpacity-=this.step,this.layerOpacity<0&&(this.layerOpacity=1),this.updateLayers()},e.prototype.updateLayers=function(){var e=this;this.map.layers.forEach((function(t){return t.opacity=e.layerOpacity}))},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["cycle-opacity"]],inputs:{map:"map",maxZoom:"maxZoom",tooltip:"tooltip",layerOpacity:"layerOpacity",step:"step"},features:[a.ɵɵNgOnChangesFeature],decls:2,vars:2,consts:[["placement","right",1,"btn","btn-secondary","btn-sm",3,"ngbTooltip","click"],[1,"fa",3,"ngClass"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"button",0),a.ɵɵlistener("click",(function(){return t.cycleTransparency()})),a.ɵɵelement(1,"i",1),a.ɵɵelementEnd()),2&e&&(a.ɵɵproperty("ngbTooltip",t.tooltip),a.ɵɵadvance(1),a.ɵɵproperty("ngClass",t.layerOpacity<.5?"fa-circle-o":t.layerOpacity<.9?"fa-adjust":"fa-circle"))},directives:[n.NgbTooltip,r.NgClass],encapsulation:2}),e}();o.CycleOpacityComponent=i}))),L=(f(k),k.CycleOpacityComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ButtonBarComponent=void 0;var o=e,a=["*"],i=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["button-bar"]],ngContentSelectors:a,decls:2,vars:0,consts:[[1,"button-bar","bb-vertical"]],template:function(e,t){1&e&&(o.ɵɵprojectionDef(),o.ɵɵelementStart(0,"div",0),o.ɵɵprojection(1),o.ɵɵelementEnd())},styles:[""]}),e}();n.ButtonBarComponent=i}))),P=(f(L),L.ButtonBarComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TimeseriesChartComponent=void 0;var o=e,a=function(){function e(e){this._element=e,this.timeSeries=[],this.marginLeft=40,this.marginRight=10,this.marginTop=0,this.marginBottom=20,this.titlefont=void 0}return e.prototype.ngAfterViewInit=function(){this.draw()},e.prototype.ngOnChanges=function(e){this.draw()},e.prototype.draw=function(){var e=this._element.nativeElement.querySelector(".our-chart");if(c.purge(e),this.timeSeries&&this.timeSeries.length){var t,n=this.timeSeries.map((function(e){return e.units}));n.every((function(e){return e===n[0]}))&&(t=n[0]);var o={margin:{t:this.marginTop+(this.title?30:0),l:this.marginLeft,r:this.marginRight,b:this.marginBottom},yaxis:{fixedrange:!0,title:t},width:320,height:200,title:this.title||void 0,titlefont:this.titlefont};c.plot(e,this.timeSeries.map((function(e){var n=e.values.filter((function(e){return!isNaN(e)})).length,o="bar"!==e.style&&n<365?"lines+markers":void 0,a=t?"":" ("+e.units+")";return{type:"bar"===e.style?"bar":void 0,mode:o,x:e.dates,y:e.values,name:e.label+a}})),o)}},e.ɵfac=function(t){return new(t||e)(o.ɵɵdirectiveInject(o.ElementRef))},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["timeseries-chart"]],inputs:{title:"title",timeSeries:"timeSeries",marginLeft:"marginLeft",marginRight:"marginRight",marginTop:"marginTop",marginBottom:"marginBottom",titlefont:"titlefont"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:0,consts:[[1,"our-chart"]],template:function(e,t){1&e&&o.ɵɵelement(0,"div",0)},encapsulation:2}),e}();n.TimeseriesChartComponent=a}))),V=(f(P),P.TimeseriesChartComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.FeatureTableComponent=void 0;var o=e;function a(e,t){if(1&e&&(o.ɵɵelementStart(0,"td"),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext().$implicit,a=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵtextInterpolate(a.feature.properties[n])}}function i(e,t){if(1&e&&(o.ɵɵelementStart(0,"a",5),o.ɵɵtext(1),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2).$implicit,a=o.ɵɵnextContext(2);o.ɵɵproperty("href",a.feature.properties[n],o.ɵɵsanitizeUrl),o.ɵɵadvance(1),o.ɵɵtextInterpolate1(" ",a.feature.properties[n]," ")}}function l(e,t){if(1&e&&(o.ɵɵelementStart(0,"td"),o.ɵɵtemplate(1,i,2,2,"a",4),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext().$implicit,a=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵproperty("ngIf",a.styles[n].hyperlink)}}function s(e,t){if(1&e&&(o.ɵɵelementStart(0,"tr"),o.ɵɵelementStart(1,"td"),o.ɵɵelementStart(2,"strong"),o.ɵɵtext(3),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(4,a,2,1,"td",3),o.ɵɵtemplate(5,l,2,1,"td",3),o.ɵɵelementEnd()),2&e){var n=t.$implicit,i=o.ɵɵnextContext(2);o.ɵɵadvance(3),o.ɵɵtextInterpolate(n),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",!i.styles||!i.styles[n]),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",i.styles&&i.styles[n])}}function p(e,t){if(1&e&&(o.ɵɵelementStart(0,"table",1),o.ɵɵelementStart(1,"thead"),o.ɵɵelementStart(2,"tr"),o.ɵɵelementStart(3,"td"),o.ɵɵelementStart(4,"strong"),o.ɵɵtext(5,"Property"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(6,"td"),o.ɵɵelementStart(7,"strong"),o.ɵɵtext(8,"Value"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(9,"tbody"),o.ɵɵelementStart(10,"tr"),o.ɵɵelementStart(11,"td"),o.ɵɵelementStart(12,"strong"),o.ɵɵtext(13,"Geometry"),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementStart(14,"td"),o.ɵɵtext(15),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵtemplate(16,s,6,3,"tr",2),o.ɵɵelementEnd(),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(15),o.ɵɵtextInterpolate(n.feature.geometry.type),o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n._keys(n.feature.properties))}}var c=function(){function e(){this.styles={},this._keys=Object.keys}return e.prototype.ngAfterViewInit=function(){},e.prototype.ngOnChanges=function(e){this.styles||(this.styles={})},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["feature-table"]],inputs:{feature:"feature",styles:"styles"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["class","table table-striped table-sm feature-table",4,"ngIf"],[1,"table","table-striped","table-sm","feature-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["target","_blank",3,"href",4,"ngIf"],["target","_blank",3,"href"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,p,17,2,"table",0),2&e&&o.ɵɵproperty("ngIf",t.feature)},directives:[r.NgIf,r.NgForOf],styles:[".feature-table[_ngcontent-%COMP%]{\n  max-width:300px;\n}"]}),e}();n.FeatureTableComponent=c}))),D=(f(V),V.FeatureTableComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CollapsibleMapControlComponent=void 0;var a=e;function i(e,t){1&e&&a.ɵɵelement(0,"span",7)}function l(e,t){1&e&&a.ɵɵelement(0,"span",8)}var s=["*"],p=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=a.ɵɵdefineComponent({type:e,selectors:[["collapsible-map-control"]],inputs:{isCollapsed:"isCollapsed",heading:"heading",direction:"direction"},ngContentSelectors:s,decls:9,vars:4,consts:[[1,"card","map-control","collapsible-control"],[3,"click"],[1,"card-header"],[1,"mb-0"],["class","float-right fa fa-caret-up\n            collapse-arrow","aria-hidden","true",4,"ngIf"],["class","float-right fa fa-caret-down\n            collapse-arrow","aria-hidden","true",4,"ngIf"],[1,"ngbCollapse",3,"ngbCollapse"],["aria-hidden","true",1,"float-right","fa","fa-caret-up","collapse-arrow"],["aria-hidden","true",1,"float-right","fa","fa-caret-down","collapse-arrow"]],template:function(e,t){1&e&&(a.ɵɵprojectionDef(),a.ɵɵelementStart(0,"div",0),a.ɵɵelementStart(1,"a",1),a.ɵɵlistener("click",(function(){return t.isCollapsed=!t.isCollapsed})),a.ɵɵelementStart(2,"div",2),a.ɵɵelementStart(3,"h6",3),a.ɵɵtext(4),a.ɵɵtemplate(5,i,1,0,"span",4),a.ɵɵtemplate(6,l,1,0,"span",5),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementStart(7,"div",6),a.ɵɵprojection(8),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(4),a.ɵɵtextInterpolate1(" ",t.heading," "),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.isCollapsed),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",!t.isCollapsed),a.ɵɵadvance(1),a.ɵɵproperty("ngbCollapse",t.isCollapsed))},directives:[r.NgIf,n.NgbCollapse],styles:[".collapsible-control[_ngcontent-%COMP%]{\n  margin:3px;\n}"]}),e}();o.CollapsibleMapControlComponent=p}))),N=(f(D),D.CollapsibleMapControlComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BaseMapSelectionComponent=void 0;var o=e,a=function(){function e(){}return e.prototype.ngAfterViewInit=function(){},e.ɵfac=function(t){return new(t||e)},e.ɵcmp=o.ɵɵdefineComponent({type:e,selectors:[["base-map-selection"]],decls:2,vars:0,template:function(e,t){1&e&&(o.ɵɵelementStart(0,"p"),o.ɵɵtext(1,"base-map-selection Component"),o.ɵɵelementEnd())},encapsulation:2}),e}();n.BaseMapSelectionComponent=a}))),j=(f(N),N.BaseMapSelectionComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.SimpleTreeNodeComponent=void 0;var a=e;function i(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",6),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=t.$implicit,o=a.ɵɵnextContext(2);return e.action(o.tree)})),a.ɵɵpipe(1,"async"),a.ɵɵtext(2," "),a.ɵɵelementEnd()}if(2&e){var o=t.$implicit;a.ɵɵpropertyInterpolate("ngbTooltip",a.ɵɵpipeBind1(1,2,o.tooltip)),a.ɵɵproperty("ngClass",o.icon)}}function l(e,t){if(1&e&&(a.ɵɵelementStart(0,"span",4),a.ɵɵtext(1,"   "),a.ɵɵtemplate(2,i,3,4,"i",5),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(2),a.ɵɵproperty("ngForOf",n.tree.actions)}}var s=function(){function t(){this.options={},this.nodeSelected=new e.EventEmitter}return t.prototype.ngOnChanges=function(e){this.evalState()},t.prototype.ngAfterViewInit=function(){},t.prototype.treeClick=function(e){e.stopPropagation(),e.preventDefault(),this.tree&&(this.tree.expanded=!this.tree.expanded,this.evalState(),this.tree.actions&&this.tree.actions.length?this.tree.actions[0].action(this.tree):this.nodeSelected.emit(this.tree))},t.prototype.evalState=function(){this.expanded=this.tree&&this.tree.expanded&&this.tree.children&&this.tree.children.length>0,this.leaf=this.tree&&(!this.tree.children||0===this.tree.children.length),this.collapsed=this.tree&&!this.tree.expanded&&this.tree.children&&this.tree.children.length>0,this.expanded?this.icon=this.options.expandedIcon:this.collapsed?this.icon=this.options.collapsedIcon:this.icon=this.options.leafIcon},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=a.ɵɵdefineComponent({type:t,selectors:[["simple-tree-node"]],inputs:{tree:"tree",options:"options"},outputs:{nodeSelected:"nodeSelected"},features:[a.ɵɵNgOnChangesFeature],decls:7,vars:7,consts:[["href","#",3,"ngClass","click"],[3,"ngClass"],["placement","right","container","body",3,"ngbTooltip"],["class","float-right",4,"ngIf"],[1,"float-right"],["placement","right","container","body",3,"ngClass","ngbTooltip","click",4,"ngFor","ngForOf"],["placement","right","container","body",3,"ngClass","ngbTooltip","click"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"a",0),a.ɵɵlistener("click",(function(e){return t.treeClick(e)})),a.ɵɵelement(1,"i",1),a.ɵɵtext(2,"   "),a.ɵɵelementStart(3,"span",2),a.ɵɵpipe(4,"async"),a.ɵɵtext(5),a.ɵɵelementEnd(),a.ɵɵtemplate(6,l,3,1,"span",3),a.ɵɵelementEnd()),2&e&&(a.ɵɵproperty("ngClass",t.tree.klass),a.ɵɵadvance(1),a.ɵɵproperty("ngClass",t.icon),a.ɵɵadvance(2),a.ɵɵpropertyInterpolate("ngbTooltip",a.ɵɵpipeBind1(4,5,t.tree.tooltip)),a.ɵɵadvance(2),a.ɵɵtextInterpolate(t.tree.label),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.tree.actions))},directives:[r.NgClass,n.NgbTooltip,r.NgIf,r.NgForOf],pipes:[r.AsyncPipe],encapsulation:2}),t}();o.SimpleTreeNodeComponent=s}))),F=(f(j),j.SimpleTreeNodeComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleTreeComponent=void 0;var o=e;function a(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"simple-tree",7),o.ɵɵlistener("nodeSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(4).childSelected(e)})),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,i=o.ɵɵnextContext(4);o.ɵɵproperty("tree",a)("inner",!0)("options",i.options)}}function i(e,t){if(1&e&&(o.ɵɵelementStart(0,"ul",5),o.ɵɵtemplate(1,a,1,3,"simple-tree",6),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(3);o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.tree.children)}}function l(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelementStart(1,"li"),o.ɵɵelementStart(2,"simple-tree-node",3),o.ɵɵlistener("nodeSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).childSelected(e)})),o.ɵɵelementEnd(),o.ɵɵtemplate(3,i,2,1,"ul",4),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=o.ɵɵnextContext(2);o.ɵɵadvance(2),o.ɵɵproperty("tree",a.tree)("options",a.options),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",a.tree.children&&a.tree.expanded)}}function s(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"simple-tree",7),o.ɵɵlistener("nodeSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(4).childSelected(e)})),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,i=o.ɵɵnextContext(4);o.ɵɵproperty("tree",a)("inner",!0)("options",i.options)}}function p(e,t){if(1&e&&(o.ɵɵelementStart(0,"ul",5),o.ɵɵtemplate(1,s,1,3,"simple-tree",6),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(3);o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.tree.children)}}function c(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"div"),o.ɵɵelementStart(1,"ul",8),o.ɵɵelementStart(2,"li"),o.ɵɵelementStart(3,"simple-tree-node",3),o.ɵɵlistener("nodeSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(2).childSelected(e)})),o.ɵɵelementEnd(),o.ɵɵtemplate(4,p,2,1,"ul",4),o.ɵɵelementEnd(),o.ɵɵelementEnd(),o.ɵɵelementEnd()}if(2&e){var a=o.ɵɵnextContext(2);o.ɵɵadvance(3),o.ɵɵproperty("tree",a.tree)("options",a.options),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",a.tree.children&&a.tree.expanded)}}function d(e,t){if(1&e){var n=o.ɵɵgetCurrentView();o.ɵɵelementStart(0,"simple-tree",7),o.ɵɵlistener("nodeSelected",(function(e){return o.ɵɵrestoreView(n),o.ɵɵnextContext(4).childSelected(e)})),o.ɵɵelementEnd()}if(2&e){var a=t.$implicit,i=o.ɵɵnextContext(4);o.ɵɵproperty("tree",a)("inner",!0)("options",i.options)}}function m(e,t){if(1&e&&(o.ɵɵelementStart(0,"ul",8),o.ɵɵtemplate(1,d,1,3,"simple-tree",6),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(3);o.ɵɵadvance(1),o.ɵɵproperty("ngForOf",n.tree.children)}}function u(e,t){if(1&e&&(o.ɵɵelementStart(0,"div"),o.ɵɵtemplate(1,m,2,1,"ul",9),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext(2);o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.tree.children&&n.tree.expanded)}}function f(e,t){if(1&e&&(o.ɵɵelementStart(0,"div",1),o.ɵɵtemplate(1,l,4,3,"div",2),o.ɵɵtemplate(2,c,5,3,"div",2),o.ɵɵtemplate(3,u,2,1,"div",2),o.ɵɵelementEnd()),2&e){var n=o.ɵɵnextContext();o.ɵɵadvance(1),o.ɵɵproperty("ngIf",n.inner),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",!n.inner&&n.showTop),o.ɵɵadvance(1),o.ɵɵproperty("ngIf",!n.inner&&!n.showTop)}}var h=function(){function t(){this.showTop=!0,this.collapsedIcon="fa fa-caret-right",this.expandedIcon="fa fa-caret-down",this.leafIcon="fa fa-minus",this.nodeSelected=new e.EventEmitter,this.options={}}return t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(e){e.options||(this.options={collapsedIcon:this.collapsedIcon,expandedIcon:this.expandedIcon,leafIcon:this.leafIcon})},t.prototype.childSelected=function(e){this.nodeSelected.emit(e)},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=o.ɵɵdefineComponent({type:t,selectors:[["simple-tree"]],inputs:{tree:"tree",showTop:"showTop",inner:"inner",collapsedIcon:"collapsedIcon",expandedIcon:"expandedIcon",leafIcon:"leafIcon",options:"options"},outputs:{nodeSelected:"nodeSelected"},features:[o.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["class","simple-tree",4,"ngIf"],[1,"simple-tree"],[4,"ngIf"],[3,"tree","options","nodeSelected"],["class","inner-list",4,"ngIf"],[1,"inner-list"],[3,"tree","inner","options","nodeSelected",4,"ngFor","ngForOf"],[3,"tree","inner","options","nodeSelected"],[1,"outer-list"],["class","outer-list",4,"ngIf"]],template:function(e,t){1&e&&o.ɵɵtemplate(0,f,4,3,"div",0),2&e&&o.ɵɵproperty("ngIf",t.tree&&t.tree.visible)},directives:[r.NgIf,j.SimpleTreeNodeComponent,r.NgForOf,t],styles:[".simple-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{\n  list-style-type: none\n}\n\nul.outer-list[_ngcontent-%COMP%]{\n  padding-left:5px;\n}\n\nul.inner-list[_ngcontent-%COMP%]{\n  padding-left:15px;\n}"]}),t}();n.SimpleTreeComponent=h}))),R=(f(F),F.SimpleTreeComponent,h((function(n,o){var a=u&&u.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=u&&u.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,a,i=n.call(e),r=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)r.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(a)throw a.error}}return r};Object.defineProperty(o,"__esModule",{value:!0}),o.CatalogComponent=void 0;var s=e,p=l;function c(e,t){1&e&&s.ɵɵelement(0,"i",8)}function f(e,t){1&e&&s.ɵɵelement(0,"i",9)}var h=function(){function n(t,n){this.metadata=n,this.showPlaceholders=!0,this.defaultAction="add",this.layerActions=[],this.layerSelected=new e.EventEmitter,this.collapsedIcon="fa fa-caret-right",this.expandedIcon="fa fa-caret-down",this.leafIcon="fa fa-minus",this.layers=[],this.tree={label:"no catalog loaded"},this.filterText="",this.filterService=t}return n.prototype.ngAfterViewInit=function(){this.catalog&&this.buildTree()},n.prototype.ngOnChanges=function(e){e.catalog&&this.catalog&&(this.filterText="",this.buildTree(),this.highlightLayers([],this.tree))},n.prototype.buildTree=function(){var e=this,t=this;this.layers=[];var n=this.catalog,o={label:n.name,expanded:!0,visible:!0},r=n.themes.map((function(e){return e.layers.filter((function(e){return e.path&&!e.skip}))})).reduce((function(e,t){return e.concat(t)}),[]),s=n.themes.filter((function(e){return e.path&&!e.skip})),p=this.layerActions.map((function(t){return{icon:t.icon,tooltip:t.tooltip,action:function(n){return e.layerClick(n.data,t.action)}}})),c=function(t){var n={label:t.name,data:t,visible:!0,actions:p},o=new l.MappedLayer;return o.layer=t,o.update(),t.description?n.tooltip=m.of(t.description):n.tooltip=e.metadata.getMetadata(o).pipe(d.map((function(e){return e[t.descriptionField||"long_name"]}))),n};function u(e){return{label:e.name,expanded:!1,visible:!0,children:e.layers.filter((function(e){return!e.path&&!e.skip})).filter((function(e){return t.showPlaceholders||!e.placeholder})).map(c)}}function f(e){var t,n,i,r,l=e.split("/"),s=o,p=-1;try{for(var c=a(l),d=c.next();!d.done;d=c.next()){var m=d.value,u=m.split("@");m=u[0],p=-1,u.length>1&&(p=+u[1]);var f=!1;try{for(var g=(i=void 0,a(s.children)),y=g.next();!y.done;y=g.next()){var v=y.value;if(v.label===m){s=v,f=!0;break}}}catch(e){i={error:e}}finally{try{y&&!y.done&&(r=g.return)&&r.call(g)}finally{if(i)throw i.error}}if(!f){var C={label:m,expanded:!1,visible:!0,children:[]};h(s,C,p),s=C}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return[s,p]}function h(e,t,n){n<0?e.children.push(t):e.children.splice(n,0,t)}o.children=n.themes.filter((function(e){return!e.path&&!e.skip})).map(u),s.forEach((function(e){var t=i(f(e.path),2),n=t[0],o=t[1];h(n,u(e),o)})),r.forEach((function(e){var t=i(f(e.path),2),n=t[0],o=t[1];h(n,c(e),o)})),this.tree=o},n.prototype.layerClick=function(e,t){var n={layer:e,action:t};this.layerSelected.emit(n)},n.prototype.nodeSelected=function(e){if(e.data){var t=e.data;this.layerClick(t,this.defaultAction)}},n.prototype.activeLayers=function(e){this.highlightLayers(e,this.tree)},n.prototype.highlightLayers=function(e,t){if(t.klass=null,t.data&&e.indexOf(t.data)>=0)return t.klass="active-layer",!0;if(t.children){for(var n=!1,o=0;o<t.children.length;o++)n=this.highlightLayers(e,t.children[o])||n;return n&&(t.klass="active-child"),t.klass=(t.klass||"")+" theme",n}return!1},n.ɵfac=function(e){return new(e||n)(s.ɵɵdirectiveInject(p.TreeFilterService),s.ɵɵdirectiveInject(p.MetadataService))},n.ɵcmp=s.ɵɵdefineComponent({type:n,selectors:[["catalog"]],inputs:{catalog:"catalog",showPlaceholders:"showPlaceholders",defaultAction:"defaultAction",layerActions:"layerActions",collapsedIcon:"collapsedIcon",expandedIcon:"expandedIcon",leafIcon:"leafIcon"},outputs:{layerSelected:"layerSelected"},features:[s.ɵɵNgOnChangesFeature],decls:8,vars:9,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",1,"btn",3,"disabled","click"],["class","fa fa-times","aria-hidden","true",4,"ngIf"],["class","fa fa-search","aria-hidden","true",4,"ngIf"],["type","text","placeholder","Catalog search...",1,"form-control",3,"ngModel","ngModelChange"],["filterInput",""],[3,"tree","showTop","leafIcon","collapsedIcon","expandedIcon","nodeSelected"],["aria-hidden","true",1,"fa","fa-times"],["aria-hidden","true",1,"fa","fa-search"]],template:function(e,t){1&e&&(s.ɵɵelementStart(0,"div",0),s.ɵɵelementStart(1,"span",1),s.ɵɵelementStart(2,"button",2),s.ɵɵlistener("click",(function(){return t.filterText=""})),s.ɵɵtemplate(3,c,1,0,"i",3),s.ɵɵtemplate(4,f,1,0,"i",4),s.ɵɵelementEnd(),s.ɵɵelementEnd(),s.ɵɵelementStart(5,"input",5,6),s.ɵɵlistener("ngModelChange",(function(e){return t.filterText=e})),s.ɵɵelementEnd(),s.ɵɵelementEnd(),s.ɵɵelementStart(7,"simple-tree",7),s.ɵɵlistener("nodeSelected",(function(e){return t.nodeSelected(e)})),s.ɵɵelementEnd()),2&e&&(s.ɵɵadvance(2),s.ɵɵproperty("disabled",!t.filterText),s.ɵɵadvance(1),s.ɵɵproperty("ngIf",t.filterText),s.ɵɵadvance(1),s.ɵɵproperty("ngIf",!t.filterText),s.ɵɵadvance(1),s.ɵɵproperty("ngModel",t.filterText),s.ɵɵadvance(2),s.ɵɵproperty("tree",t.filterService.filterTree(t.tree,t.filterText))("showTop",!1)("leafIcon",t.leafIcon)("collapsedIcon",t.collapsedIcon)("expandedIcon",t.expandedIcon))},directives:[r.NgIf,t.DefaultValueAccessor,t.NgControlStatus,t.NgModel,F.SimpleTreeComponent],styles:[".node-name[_ngcontent-%COMP%]{\n  font-size:1em;\n}"]}),n}();o.CatalogComponent=h}))),A=(f(R),R.CatalogComponent,h((function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.DateSelectionComponent=void 0;var i=e,s=l;function p(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div",3),i.ɵɵelementStart(1,"div",4),i.ɵɵelementStart(2,"div",5),i.ɵɵelementStart(3,"input",6,7),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().dateStruct=e}))("ngModelChange",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().dateStructChanged()})),i.ɵɵelementEnd(),i.ɵɵelementStart(5,"div",8),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵreference(4).toggle()})),i.ɵɵelement(6,"i",9),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext();i.ɵɵadvance(3),i.ɵɵproperty("ngModel",o.dateStruct)("maxDate",o.maxDateStruct)("minDate",o.minDateStruct)}}function c(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"date-element",12),i.ɵɵlistener("changed",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).dateStructChanged()})),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext(2);i.ɵɵproperty("src",o.dateStruct)("property","day")("label","Day")("step",o.stepDays)}}function d(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"date-element",13),i.ɵɵlistener("changed",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).dateStructChanged()})),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext(2);i.ɵɵproperty("src",o.dateStruct)("property","month")("label","Month")}}function m(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"date-element",13),i.ɵɵlistener("changed",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext(2).dateStructChanged()})),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext(2);i.ɵɵproperty("src",o.dateStruct)("property","year")("label","Year")}}function u(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,c,1,4,"date-element",10),i.ɵɵtemplate(2,d,1,3,"date-element",11),i.ɵɵtemplate(3,m,1,3,"date-element",11),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.need.day),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.need.month),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",n.need.year)}}var f=function(){function o(t){this.timeUtils=t,this.dateChange=new e.EventEmitter,this.style="arrows",this.stepDays=1,this.referenceDate=null,this.need={day:!0,month:!0,year:!0},this.atMax=!1,this.atMin=!1}return o.prototype.ngAfterViewInit=function(){},o.prototype.ngOnChanges=function(e){e.minDate&&(this.minDateStruct=this.timeUtils.convertDate(this.minDate)),e.maxDate&&(this.maxDateStruct=this.timeUtils.convertDate(this.maxDate)),e.date&&(this.dateStruct=this.timeUtils.convertDate(this.date)),e.timestep&&this.assessDateComponents(),this.checkLimits()},o.prototype.dateStructChanged=function(){this.date=new Date(Date.UTC(this.dateStruct.year,this.dateStruct.month-1,this.dateStruct.day)),this.checkReference(),this.dateChange.emit(this.date)},o.prototype.assessDateComponents=function(){this.need.day=this.need.month=this.need.year=!0,"daily"!==this.timestep&&(this.need.day=!1,"annual"===this.timestep&&(this.need.month=!1))},o.prototype.move=function(e){this.date=new Date(this.date&&this.date.getTime()),this.date.setDate(this.date.getDate()+e),this.onDateChanged(),this.dateChange.emit(this.date)},o.prototype.onDateChanged=function(){this.checkLimits()},o.prototype.checkLimits=function(){this.atMax=this.timeUtils.datesEqual(this.dateStruct,this.maxDateStruct),this.atMin=this.timeUtils.datesEqual(this.dateStruct,this.minDateStruct)},o.prototype.checkReference=function(){if(this.referenceDate){var e=l.InterpolationService.interpolate(this.referenceDate,{year:this.date.getFullYear(),month:this.date.getMonth()+1,date:this.date.getDate()}).split("-").map((function(e){return+e})),t=new Date(Date.UTC(e[0],e[1]-1,e[2]));console.log("currentRef",t),console.log("currentDate",this.date);var n=864e5*this.stepDays,o=(this.date.getTime()-t.getTime())/n;this.date=new Date(t.getTime()+Math.round(o)*n),this.dateStruct=this.timeUtils.convertDate(this.date)}},o.ɵfac=function(e){return new(e||o)(i.ɵɵdirectiveInject(s.TimeUtilsService))},o.ɵcmp=i.ɵɵdefineComponent({type:o,selectors:[["date-selection"]],inputs:{date:"date",timestep:"timestep",minDate:"minDate",maxDate:"maxDate",style:"style",stepDays:"stepDays",referenceDate:"referenceDate"},outputs:{dateChange:"dateChange"},features:[i.ɵɵNgOnChangesFeature],decls:3,vars:2,consts:[[1,"date-control","container-fluid"],["class","row no-gutters",4,"ngIf"],[4,"ngIf"],[1,"row","no-gutters"],[1,"col-8","form-group-inline"],[1,"input-group","input-group-sm"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control","form-control-sm",3,"ngModel","maxDate","minDate","ngModelChange"],["d","ngbDatepicker"],[1,"input-group-addon",3,"click"],[1,"fa","fa-calendar"],[3,"src","property","label","step","changed",4,"ngIf"],[3,"src","property","label","changed",4,"ngIf"],[3,"src","property","label","step","changed"],[3,"src","property","label","changed"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵtemplate(1,p,7,3,"div",1),i.ɵɵtemplate(2,u,4,3,"div",2),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(1),i.ɵɵproperty("ngIf","arrows"!==t.style),i.ɵɵadvance(1),i.ɵɵproperty("ngIf","arrows"===t.style))},directives:[r.NgIf,n.NgbInputDatepicker,t.DefaultValueAccessor,t.NgControlStatus,t.NgModel,S.DateElementComponent],encapsulation:2}),o}();a.DateSelectionComponent=f}))),B=(f(A),A.DateSelectionComponent,h((function(o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.LayerPropertiesComponent=void 0;var i=e,s=l;function p(e,t){if(1&e&&(i.ɵɵelementStart(0,"span",3),i.ɵɵtext(1,"  "),i.ɵɵelement(2,"i",4),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵproperty("ngbTooltip",n.layer.description())("placement",n.tooltipPlacement)}}function c(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵelementStart(1,"small"),i.ɵɵelementStart(2,"a",5),i.ɵɵelement(3,"i",6),i.ɵɵelementEnd(),i.ɵɵelementEnd(),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵproperty("href",n.layer.interpolatedDownloadURL,i.ɵɵsanitizeUrl)("ngbTooltip","Download data")}}function d(e,t){1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1,"Timestep "),i.ɵɵelementEnd())}function m(e,t){if(1&e&&(i.ɵɵelementStart(0,"span"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext(2);i.ɵɵadvance(1),i.ɵɵtextInterpolate1("",n.layer.layer.options.publicationLabel||"Variable"," ")}}function u(e,t){if(1&e&&(i.ɵɵelementStart(0,"option",9),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit,o=t.index;i.ɵɵproperty("ngValue",o),i.ɵɵadvance(1),i.ɵɵtextInterpolate(n.label||n.timestep)}}function f(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,d,2,0,"span",2),i.ɵɵtemplate(2,m,2,1,"span",2),i.ɵɵelementStart(3,"select",7),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().layer.options.publication=e}))("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().publicationSelected(e)})),i.ɵɵtemplate(4,u,2,2,"option",8),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("ngIf",o.layer.layer.publications[0].timestep),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",!o.layer.layer.publications[0].timestep),i.ɵɵadvance(1),i.ɵɵproperty("ngModel",o.layer.options.publication),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",o.layer.layer.publications)}}function h(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",null==n.publication?null:n.publication.label," ")}}function g(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelement(1,"hr"),i.ɵɵelementStart(2,"date-selection",10),i.ɵɵlistener("dateChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().layer.options.date=e}))("dateChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().update(e)})),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵproperty("date",o.layer.options.date)("timestep",o.publication.timestep)("stepDays",o.publication.timestepMultiplier||1)("referenceDate",o.publication.timestepReference)("minDate",o.publication.options.start)("maxDate",o.publication.options.end)}}function y(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵelement(1,"hr"),i.ɵɵelementStart(2,"button",11),i.ɵɵlistener("click",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().zoomToExtent()})),i.ɵɵtext(3,"Zoom to Extent"),i.ɵɵelementEnd(),i.ɵɵelementEnd()}}function v(e,t){if(1&e&&(i.ɵɵelementStart(0,"option",9),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵproperty("ngValue",n.value),i.ɵɵadvance(1),i.ɵɵtextInterpolate(n.label)}}function C(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵtext(1),i.ɵɵelementStart(2,"select",7),i.ɵɵlistener("ngModelChange",(function(e){i.ɵɵrestoreView(n);var o=t.$implicit;return i.ɵɵnextContext(2).tags[o]=e}))("ngModelChange",(function(){i.ɵɵrestoreView(n);var e=t.$implicit;return i.ɵɵnextContext(2).tagChanged(e)})),i.ɵɵtemplate(3,v,2,2,"option",8),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var o=t.$implicit,a=i.ɵɵnextContext(2);i.ɵɵadvance(1),i.ɵɵtextInterpolate1(" ",o," "),i.ɵɵadvance(1),i.ɵɵproperty("ngModel",a.tags[o]),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",a.availableTags[o])}}function b(e,t){if(1&e&&(i.ɵɵelementStart(0,"div"),i.ɵɵtemplate(1,C,4,3,"div",12),i.ɵɵelementEnd()),2&e){var n=i.ɵɵnextContext();i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",n.getKeys(n.availableTags))}}function S(e,t){if(1&e&&(i.ɵɵelementStart(0,"option",9),i.ɵɵtext(1),i.ɵɵelementEnd()),2&e){var n=t.$implicit;i.ɵɵproperty("ngValue",n.value),i.ɵɵadvance(1),i.ɵɵtextInterpolate(n.label)}}function x(e,t){if(1&e){var n=i.ɵɵgetCurrentView();i.ɵɵelementStart(0,"div"),i.ɵɵtext(1," Variable: "),i.ɵɵelementStart(2,"select",7),i.ɵɵlistener("ngModelChange",(function(e){return i.ɵɵrestoreView(n),i.ɵɵnextContext().selectedVariable=e}))("ngModelChange",(function(){return i.ɵɵrestoreView(n),i.ɵɵnextContext().queryPointData()})),i.ɵɵtemplate(3,S,2,2,"option",8),i.ɵɵelementEnd(),i.ɵɵelementEnd()}if(2&e){var o=i.ɵɵnextContext();i.ɵɵadvance(2),i.ɵɵproperty("ngModel",o.selectedVariable),i.ɵɵadvance(1),i.ɵɵproperty("ngForOf",o.pointVariables)}}var w=function(){function o(t){this.pointSelectionService=t,this.getKeys=Object.keys,this.propertyChanged=new e.EventEmitter,this.tooltipPlacement="right",this.availableTags=null,this.tags={},this.pointVariables=[]}return Object.defineProperty(o.prototype,"publication",{get:function(){return this.layer&&this.layer.layer&&this.layer.layer.publications?this.layer.layer.publications[this.layer.options.publication||0]:null},enumerable:!1,configurable:!0}),o.prototype.ngAfterViewInit=function(){var e=this;this.map&&(this.selectedFeatureSubscription=this.map.featureSelected.subscribe((function(t){return e.featureSelected(t)}))),this.layer&&setTimeout((function(){e.findTags()}))},o.prototype.ngOnDestroy=function(){this.selectedFeatureSubscription&&this.selectedFeatureSubscription.unsubscribe()},o.prototype.featureSelected=function(e){this.publication&&this.publication.pointdata&&(this.selectedFeature=e.feature,this.queryPointData())},o.prototype.publicationSelected=function(e){this.layer.options.publication=e,this.publication.pointdata&&(this.pointSelectionChanged(),this.updateVariables()),this.update(e)},o.prototype.updateLayer=function(){this.layer.options.tags=this.tags,this.layer.update(),this.propertyChanged.emit(this.layer)},o.prototype.update=function(e){var t=this;this.updateLayer(),setTimeout((function(){t.findTags()}))},o.prototype.processTags=function(e){if(!e)return null;var t={};return Object.keys(e).forEach((function(n){var o=e[n];t[n]=o.map((function(e){var t=e;if(t.value&&t.label)return t;return{value:e,label:e}}))})),t},o.prototype.findTags=function(){this.publication.pointdata?this.availableTags=this.processTags(this.publication.pointdata.tags):this.availableTags=this.processTags(this.layer.flattenedSettings.options.tags),this.setDefaultTags()},o.prototype.tagChanged=function(e){this.queryPointData(),this.update(null)},o.prototype.setDefaultTags=function(){var e=this;this.availableTags&&(Object.keys(this.availableTags).forEach((function(t){void 0===e.tags[t]&&(e.tags[t]=e.availableTags[t][0].value)})),this.updateLayer())},o.prototype.zoomToExtent=function(){this.map?(this.map.lat=this.layer.layer.lat,this.map.lng=this.layer.layer.lon,this.map.zoom=this.layer.layer.zoom||13):console.log("NO MAP!")},o.prototype.pointSelection=function(){return{catalog:this.publication.pointdata,variable:this.selectedVariable,feature:this.selectedFeature,tags:this.tags}},o.prototype.queryPointData=function(){this.publication&&this.publication.pointdata;this.publication&&this.publication.pointdata&&(this.pointSelectionChanged(),this.updateVariables())},o.prototype.updateVariables=function(){var e=this,t=this.pointSelection();this.pointSelectionService.timeseriesVariables(t).subscribe((function(t){e.pointVariables=t.slice(),e.publication.pointdata.exclude&&(e.pointVariables=e.pointVariables.filter((function(t){return!e.publication.pointdata.exclude.some((function(e){return!!t.value.match(e)}))}))),e.pointVariables.length?e.pointVariables.findIndex((function(t){return t.value===e.selectedVariable}))<0&&(e.pointVariables.findIndex((function(t){return t.value===e.publication.pointdata.defaultVariable}))>=0?e.selectedVariable=e.publication.pointdata.defaultVariable:e.selectedVariable=e.pointVariables[0].value):e.selectedVariable=null,e.pointSelectionChanged()}))},o.prototype.pointSelectionChanged=function(){this.pointSelectionService.pointSelection(this.pointSelection())},o.ɵfac=function(e){return new(e||o)(i.ɵɵdirectiveInject(s.PointSelectionService))},o.ɵcmp=i.ɵɵdefineComponent({type:o,selectors:[["layer-properties"]],inputs:{layer:"layer",map:"map",tooltipPlacement:"tooltipPlacement"},outputs:{propertyChanged:"propertyChanged"},decls:13,vars:9,consts:[[1,"container-fluid"],["class","layer-info-target","container","body",3,"ngbTooltip","placement",4,"ngIf"],[4,"ngIf"],["container","body",1,"layer-info-target",3,"ngbTooltip","placement"],[1,"fa","fa-info-circle"],["target","_blank","container","body",3,"href","ngbTooltip"],[1,"fa","fa-download"],[3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"],[3,"date","timestep","stepDays","referenceDate","minDate","maxDate","dateChange"],[1,"btn","btn-sm","btn-primary",3,"click"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(i.ɵɵelementStart(0,"div",0),i.ɵɵelementStart(1,"p"),i.ɵɵelementStart(2,"strong"),i.ɵɵtext(3),i.ɵɵelementEnd(),i.ɵɵtemplate(4,p,3,2,"span",1),i.ɵɵtext(5,"  "),i.ɵɵtemplate(6,c,4,2,"span",2),i.ɵɵelementEnd(),i.ɵɵtemplate(7,f,5,4,"div",2),i.ɵɵtemplate(8,h,2,1,"div",2),i.ɵɵtemplate(9,g,3,6,"div",2),i.ɵɵtemplate(10,y,4,0,"div",2),i.ɵɵtemplate(11,b,2,1,"div",2),i.ɵɵtemplate(12,x,4,2,"div",2),i.ɵɵelementEnd()),2&e&&(i.ɵɵadvance(3),i.ɵɵtextInterpolate(null==t.layer?null:t.layer.title),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.layer.description()),i.ɵɵadvance(2),i.ɵɵproperty("ngIf",t.layer.interpolatedDownloadURL),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",(null==t.layer?null:t.layer.layer.publications.length)>1),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",1===(null==t.layer?null:t.layer.layer.publications.length)),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.publication&&t.publication.timestep),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.layer.layer.options.smallExtent),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",t.availableTags),i.ɵɵadvance(1),i.ɵɵproperty("ngIf",null==t.publication?null:t.publication.pointdata))},directives:[r.NgIf,n.NgbTooltip,t.SelectControlValueAccessor,t.NgControlStatus,t.NgModel,r.NgForOf,t.NgSelectOption,t.ɵangular_packages_forms_forms_x,A.DateSelectionComponent],encapsulation:2}),o}();a.LayerPropertiesComponent=w}))),z=(f(B),B.LayerPropertiesComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.LayerControlComponent=void 0;var a=e,i=l;function s(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"div",3),a.ɵɵelementStart(1,"div",4),a.ɵɵelementStart(2,"i",5),a.ɵɵlistener("click",(function(){return a.ɵɵrestoreView(n),a.ɵɵnextContext().allLegends(!1)})),a.ɵɵelementEnd(),a.ɵɵelementStart(3,"i",6),a.ɵɵlistener("click",(function(){return a.ɵɵrestoreView(n),a.ɵɵnextContext().allLegends(!0)})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelement(4,"br"),a.ɵɵelementEnd()}}function p(e,t){if(1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵelement(1,"map-legend",19),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext(2).$implicit;a.ɵɵadvance(1),a.ɵɵproperty("title",n.title)("imageURL",n.legendURL)("helpText",n.description())("mapUnits",null==n.flattenedSettings?null:n.flattenedSettings.units)("cbPalette",(null==n.flattenedSettings||null==n.flattenedSettings.palette?null:n.flattenedSettings.palette.name)||(null==n.flattenedSettings?null:n.flattenedSettings.palette))("cbCount",(null==n.flattenedSettings?null:n.flattenedSettings.numcolorbands)||(null==n.flattenedSettings||null==n.flattenedSettings.palette?null:n.flattenedSettings.palette.count))("cbReverse",null==n.flattenedSettings||null==n.flattenedSettings.palette?null:n.flattenedSettings.palette.reverse)("cbRange",null==n.flattenedSettings?null:n.flattenedSettings.colorscalerange)}}function c(e,t){if(1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵtemplate(1,p,2,8,"div",2),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext().$implicit;a.ɵɵadvance(1),a.ɵɵproperty("ngIf",(null==n.flattenedSettings?null:n.flattenedSettings.palette)||n.legendURL)}}function d(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"div"),a.ɵɵelementStart(1,"layer-properties",20),a.ɵɵlistener("propertyChanged",(function(e){return a.ɵɵrestoreView(n),a.ɵɵnextContext(3).layerPropertyChanged(e)})),a.ɵɵelementEnd(),a.ɵɵelementEnd()}if(2&e){var o=a.ɵɵnextContext().$implicit,i=a.ɵɵnextContext(2);a.ɵɵadvance(1),a.ɵɵproperty("layer",o)("map",i.map)}}function m(e,t){1&e&&a.ɵɵelement(0,"i",21)}function u(e,t){1&e&&a.ɵɵelement(0,"br")}function f(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",22),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().$implicit;return a.ɵɵnextContext(2).layerLegend(e,!1)})),a.ɵɵelementEnd()}}function h(e,t){1&e&&a.ɵɵelement(0,"br")}function g(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",23),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().$implicit;return a.ɵɵnextContext(2).layerLegend(e,!0)})),a.ɵɵelementEnd()}}function v(e,t){1&e&&a.ɵɵelement(0,"br")}function C(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",24),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().index;return a.ɵɵnextContext(2).moveToTop(e)})),a.ɵɵelementEnd()}}function b(e,t){1&e&&a.ɵɵelement(0,"br")}function S(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",25),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().index;return a.ɵɵnextContext(2).moveUp(e)})),a.ɵɵelementEnd()}}function x(e,t){1&e&&a.ɵɵelement(0,"br")}function w(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",26),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().index;return a.ɵɵnextContext(2).moveDown(e)})),a.ɵɵelementEnd()}}function T(e,t){1&e&&a.ɵɵelement(0,"br")}function M(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",27),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().index;return a.ɵɵnextContext(2).moveToBottom(e)})),a.ɵɵelementEnd()}}function E(e,t){1&e&&a.ɵɵelement(0,"br")}function I(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"i",28),a.ɵɵlistener("click",(function(){a.ɵɵrestoreView(n);var e=a.ɵɵnextContext().index;return a.ɵɵnextContext(2).removeLayer(e)})),a.ɵɵelementEnd()}}function O(e,t){if(1&e&&(a.ɵɵelementStart(0,"div",8),a.ɵɵelementStart(1,"div",9),a.ɵɵtemplate(2,c,2,1,"div",2),a.ɵɵtemplate(3,d,2,2,"div",2),a.ɵɵelementEnd(),a.ɵɵelementStart(4,"div",10),a.ɵɵelementStart(5,"div"),a.ɵɵtemplate(6,m,1,0,"i",11),a.ɵɵtemplate(7,u,1,0,"br",2),a.ɵɵtemplate(8,f,1,0,"i",12),a.ɵɵtemplate(9,h,1,0,"br",2),a.ɵɵtemplate(10,g,1,0,"i",13),a.ɵɵtemplate(11,v,1,0,"br",2),a.ɵɵtemplate(12,C,1,0,"i",14),a.ɵɵtemplate(13,b,1,0,"br",2),a.ɵɵtemplate(14,S,1,0,"i",15),a.ɵɵtemplate(15,x,1,0,"br",2),a.ɵɵtemplate(16,w,1,0,"i",16),a.ɵɵtemplate(17,T,1,0,"br",2),a.ɵɵtemplate(18,M,1,0,"i",17),a.ɵɵtemplate(19,E,1,0,"br",2),a.ɵɵtemplate(20,I,1,0,"i",18),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e){var n=t.$implicit,o=a.ɵɵnextContext(2);a.ɵɵadvance(2),a.ɵɵproperty("ngIf",o.showLegends&&n.options.legend),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",!o.showLegends||!n.options.legend),a.ɵɵadvance(3),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.showLegends),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.showLegends),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.showLegends),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.showLegends),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowReorder),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",o.allowRemove)}}function _(e,t){if(1&e&&(a.ɵɵelementStart(0,"div"),a.ɵɵtemplate(1,O,21,17,"div",7),a.ɵɵelementEnd()),2&e){var n=a.ɵɵnextContext();a.ɵɵadvance(1),a.ɵɵproperty("ngForOf",n.layers)}}var k=function(){function t(t){this.metadata=t,this.allowRemove=!0,this.showLegends=!0,this.allowReorder=!0,this.layersChange=new e.EventEmitter,this.foo="bar"}return t.prototype.ngAfterViewInit=function(){},t.prototype.ngOnChanges=function(e){e.layers&&this.layers&&(this.applyViewMode(),this.fetchMetadata())},t.prototype.applyViewMode=function(){var e=this;void 0!==this.uniformViewMode&&this.layers.forEach((function(t){return t.options.legend=e.uniformViewMode}))},t.prototype.allLegends=function(e){this.uniformViewMode=e,this.layers.forEach((function(t){return t.options.legend=e}))},t.prototype.layerLegend=function(e,t){this.uniformViewMode=void 0,e.options.legend=t},t.prototype.moveToTop=function(e){this.layers=[this.layers[e]].concat(this.layers.slice(0,e)).concat(this.layers.slice(e+1)),this._changed()},t.prototype.moveUp=function(e){if(0!==e){var t=this.layers;this.layers=t.slice(0,e-1).concat([t[e],t[e-1]]).concat(t.slice(e+1)),this._changed()}},t.prototype.moveDown=function(e){if(e!==this.layers.length-1){var t=this.layers;this.layers=t.slice(0,e).concat([t[e+1],t[e]]).concat(t.slice(e+2)),this._changed()}},t.prototype.moveToBottom=function(e){this.layers=this.layers.slice(0,e).concat(this.layers.slice(e+1)).concat([this.layers[e]]),this._changed()},t.prototype.removeLayer=function(e){var t=this.layers.slice();t.splice(e,1),this.layers=t,this._changed()},t.prototype.layerPropertyChanged=function(e){this.layers=this.layers.slice(),this._changed()},t.prototype._changed=function(){this.fetchMetadata(),this.layersChange.emit(this.layers)},t.prototype.fetchMetadata=function(){var e=this;this.layers.forEach((function(t){e.metadata.populateMetadata(t)}))},t.ɵfac=function(e){return new(e||t)(a.ɵɵdirectiveInject(i.MetadataService))},t.ɵcmp=a.ɵɵdefineComponent({type:t,selectors:[["layer-control"]],inputs:{layers:"layers",map:"map",allowRemove:"allowRemove",showLegends:"showLegends",allowReorder:"allowReorder"},outputs:{layersChange:"layersChange"},features:[a.ɵɵNgOnChangesFeature],decls:3,vars:2,consts:[[1,"layers-control"],["class","layers-control-header",4,"ngIf"],[4,"ngIf"],[1,"layers-control-header"],[1,"float-right"],[1,"fa","fa-lg","fa-cog","discrete-icon",3,"click"],[1,"fa","fa-lg","fa-th-list","discrete-icon",3,"click"],["class","layer-control d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"layer-control","d-flex","justify-content-between"],[1,"p-2",2,"width","100%"],[1,"p-2"],["class","fa fa-bars discrete-icon",4,"ngIf"],["class","fa fa-cog discrete-icon","ngbTooltip","Show layer controls","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-th-list discrete-icon","ngbTooltip","Show layer data","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-angle-double-up discrete-icon","ngbTooltip","Move to top","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-angle-up discrete-icon","ngbTooltip","Move up","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-angle-down discrete-icon","ngbTooltip","Move down","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-angle-double-down discrete-icon","ngbTooltip","Move to bottom","placement","right","data-container","body",3,"click",4,"ngIf"],["class","fa fa-times discrete-icon","ngbTooltip","Remove layer","placement","right","data-container","body","data-toggle","tooltip","title","Remove layer",3,"click",4,"ngIf"],[3,"title","imageURL","helpText","mapUnits","cbPalette","cbCount","cbReverse","cbRange"],[3,"layer","map","propertyChanged"],[1,"fa","fa-bars","discrete-icon"],["ngbTooltip","Show layer controls","placement","right","data-container","body",1,"fa","fa-cog","discrete-icon",3,"click"],["ngbTooltip","Show layer data","placement","right","data-container","body",1,"fa","fa-th-list","discrete-icon",3,"click"],["ngbTooltip","Move to top","placement","right","data-container","body",1,"fa","fa-angle-double-up","discrete-icon",3,"click"],["ngbTooltip","Move up","placement","right","data-container","body",1,"fa","fa-angle-up","discrete-icon",3,"click"],["ngbTooltip","Move down","placement","right","data-container","body",1,"fa","fa-angle-down","discrete-icon",3,"click"],["ngbTooltip","Move to bottom","placement","right","data-container","body",1,"fa","fa-angle-double-down","discrete-icon",3,"click"],["ngbTooltip","Remove layer","placement","right","data-container","body","data-toggle","tooltip","title","Remove layer",1,"fa","fa-times","discrete-icon",3,"click"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"div",0),a.ɵɵtemplate(1,s,5,0,"div",1),a.ɵɵtemplate(2,_,2,1,"div",2),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.showLegends),a.ɵɵadvance(1),a.ɵɵproperty("ngIf",t.layers))},directives:[r.NgIf,r.NgForOf,y.MapLegendComponent,B.LayerPropertiesComponent,n.NgbTooltip],styles:[".layers-control[_ngcontent-%COMP%]{\n  width:200px;\n}\n\n\n.layers-control-header[_ngcontent-%COMP%], .layer-control[_ngcontent-%COMP%]{\n  border-bottom: 1.5px solid #aaa;\n}"]}),t}();o.LayerControlComponent=k}))),Z=(f(z),z.LayerControlComponent,h((function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.ThemeNavbarComponent=void 0;var a=e;function i(e,t){if(1&e){var n=a.ɵɵgetCurrentView();a.ɵɵelementStart(0,"a",7),a.ɵɵlistener("click",(function(e){a.ɵɵrestoreView(n);var o=t.$implicit;return a.ɵɵnextContext(2).layerClick(e,o,"replace")})),a.ɵɵelementStart(1,"div"),a.ɵɵelementStart(2,"span"),a.ɵɵtext(3),a.ɵɵelementEnd(),a.ɵɵelementStart(4,"span",8),a.ɵɵelementStart(5,"i",9),a.ɵɵlistener("click",(function(e){a.ɵɵrestoreView(n);var o=t.$implicit;return a.ɵɵnextContext(2).layerClick(e,o,"replace")})),a.ɵɵelementEnd(),a.ɵɵelement(6,"br"),a.ɵɵelementStart(7,"i",10),a.ɵɵlistener("click",(function(e){a.ɵɵrestoreView(n);var o=t.$implicit;return a.ɵɵnextContext(2).layerClick(e,o,"add")})),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd(),a.ɵɵelementEnd()}if(2&e){var o=t.$implicit;a.ɵɵadvance(3),a.ɵɵtextInterpolate(o.name)}}function l(e,t){if(1&e&&(a.ɵɵelementStart(0,"li",2),a.ɵɵelementStart(1,"a",3),a.ɵɵelement(2,"i",4),a.ɵɵelementEnd(),a.ɵɵelementStart(3,"div",5),a.ɵɵtemplate(4,i,8,1,"a",6),a.ɵɵelementEnd(),a.ɵɵelementEnd()),2&e){var n=t.$implicit;a.ɵɵadvance(2),a.ɵɵproperty("ngClass",n.icon),a.ɵɵadvance(2),a.ɵɵproperty("ngForOf",n.layers)}}var s=function(){function t(){this.layerSelected=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){},t.prototype.layerClick=function(e,t,n){this.stop(e);var o={layer:t,action:n};this.layerSelected.emit(o)},t.prototype.stop=function(e){e.preventDefault(),e.stopPropagation()},t.ɵfac=function(e){return new(e||t)},t.ɵcmp=a.ɵɵdefineComponent({type:t,selectors:[["theme-navbar"]],inputs:{catalog:"catalog",includeSearch:"includeSearch"},outputs:{layerSelected:"layerSelected"},decls:2,vars:1,consts:[[1,"navbar-nav"],["class","nav-item","ngbDropdown","",4,"ngFor","ngForOf"],["ngbDropdown","",1,"nav-item"],["ngbDropdownToggle","","href","#",1,"nav-link"],[1,"fa",3,"ngClass"],["ngbDropdownMenu","",1,"dropdown-menu"],["class","dropdown-item","href","#",3,"click",4,"ngFor","ngForOf"],["href","#",1,"dropdown-item",3,"click"],[1,"float-right","layer-select-icons"],["placement","right","ngbTooltip","Map this layer. (Replace any existing layers)",1,"fa","fa-map","layer-select-icon","discrete-icon",3,"click"],["placement","right","ngbTooltip","Add this layer to the map.",1,"fa","fa-plus","layer-select-icon","discrete-icon",3,"click"]],template:function(e,t){1&e&&(a.ɵɵelementStart(0,"ul",0),a.ɵɵtemplate(1,l,5,2,"li",1),a.ɵɵelementEnd()),2&e&&(a.ɵɵadvance(1),a.ɵɵproperty("ngForOf",null==t.catalog?null:t.catalog.themes))},directives:[r.NgForOf,n.NgbDropdown,n.NgbDropdownToggle,r.NgClass,n.NgbDropdownMenu,n.NgbTooltip],styles:[".layer-select-icons[_ngcontent-%COMP%]{\n  font-size:0.75em;\n  margin-right:-20px;\n}\n\n\n  .tooltip-inner {\n  width: 400px;\n}\n\n.dropdown-item[_ngcontent-%COMP%]{\n  border-bottom: 1px solid #aaa;\n  height: 40px;\n}"]}),t}();o.ThemeNavbarComponent=s}))),U=(f(Z),Z.ThemeNavbarComponent,h((function(t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.GeocodingService=void 0;var o=e,a=i,r=function(){function e(e){this._api=e}return e.prototype.geocode=function(e,t){var n=this,o=new Promise((function(t,o){n._api.load().then((function(){var n=[google.maps.GeocoderStatus.OK,google.maps.GeocoderStatus.ZERO_RESULTS];(new google.maps.Geocoder).geocode({address:e,componentRestrictions:{country:"AU"},region:"AU"},(function(e,a){n.indexOf(a)<0?o():t(e.filter((function(e){return"Australia"!==e.formatted_address})))}))}))}));return m.from(o)},e.ɵfac=function(t){return new(t||e)(o.ɵɵinject(a.MapsAPILoader))},e.ɵprov=o.ɵɵdefineInjectable({token:e,factory:e.ɵfac}),e}();n.GeocodingService=r}))),$=(f(U),U.GeocodingService,h((function(s,p){var c=u&&u.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),d=u&&u.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||c(t,e,n)};Object.defineProperty(p,"__esModule",{value:!0}),p.MapWaldBootstrapModule=void 0;var m=e;d(g,p),d(y,p),d(C,p),d(b,p),d(S,p),d(x,p),d(w,p),d(M,p),d(E,p),d(I,p),d(O,p),d(_,p),d(k,p),d(L,p),d(P,p),d(V,p),d(D,p),d(N,p),d(j,p),d(F,p),d(R,p),d(A,p),d(B,p),d(z,p),d(T,p),d(Z,p),d(v,p),d(U,p);C.DateShifterComponent,b.OneTimeSplashComponent,S.DateElementComponent,x.ShareViewComponent,w.LocationSearchComponent,M.ZoomLayerComponent,E.ZoomFullComponent,I.ZoomOutComponent,O.ZoomInComponent,_.CycleBaseMapComponent,k.CycleOpacityComponent,L.ButtonBarComponent,P.TimeseriesChartComponent,V.FeatureTableComponent,D.CollapsibleMapControlComponent,N.BaseMapSelectionComponent,j.SimpleTreeNodeComponent,F.SimpleTreeComponent,R.CatalogComponent,A.DateSelectionComponent,B.LayerPropertiesComponent,z.LayerControlComponent,T.LayeredMapComponent,Z.ThemeNavbarComponent,g.WMSLayerComponent,y.MapLegendComponent,v.MapControlComponent;var f=[U.GeocodingService],h=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:f}},e.ɵmod=m.ɵɵdefineNgModule({type:e}),e.ɵinj=m.ɵɵdefineInjector({factory:function(t){return new(t||e)},providers:f,imports:[[r.CommonModule,t.FormsModule,i.AgmCoreModule,o.HttpClientModule,a.NgPipesModule,n.NgbModule,l.MapWaldCoreModule]]}),e}();p.MapWaldBootstrapModule=h,("undefined"==typeof ngJitMode||ngJitMode)&&m.ɵɵsetNgModuleScope(h,{declarations:[C.DateShifterComponent,b.OneTimeSplashComponent,S.DateElementComponent,x.ShareViewComponent,w.LocationSearchComponent,M.ZoomLayerComponent,E.ZoomFullComponent,I.ZoomOutComponent,O.ZoomInComponent,_.CycleBaseMapComponent,k.CycleOpacityComponent,L.ButtonBarComponent,P.TimeseriesChartComponent,V.FeatureTableComponent,D.CollapsibleMapControlComponent,N.BaseMapSelectionComponent,j.SimpleTreeNodeComponent,F.SimpleTreeComponent,R.CatalogComponent,A.DateSelectionComponent,B.LayerPropertiesComponent,z.LayerControlComponent,T.LayeredMapComponent,Z.ThemeNavbarComponent,g.WMSLayerComponent,y.MapLegendComponent,v.MapControlComponent],imports:[r.CommonModule,t.FormsModule,i.AgmCoreModule,o.HttpClientModule,a.NgPipesModule,n.NgbModule,l.MapWaldCoreModule],exports:[C.DateShifterComponent,b.OneTimeSplashComponent,S.DateElementComponent,x.ShareViewComponent,w.LocationSearchComponent,M.ZoomLayerComponent,E.ZoomFullComponent,I.ZoomOutComponent,O.ZoomInComponent,_.CycleBaseMapComponent,k.CycleOpacityComponent,L.ButtonBarComponent,P.TimeseriesChartComponent,V.FeatureTableComponent,D.CollapsibleMapControlComponent,N.BaseMapSelectionComponent,j.SimpleTreeNodeComponent,F.SimpleTreeComponent,R.CatalogComponent,A.DateSelectionComponent,B.LayerPropertiesComponent,z.LayerControlComponent,T.LayeredMapComponent,Z.ThemeNavbarComponent,g.WMSLayerComponent,y.MapLegendComponent,v.MapControlComponent]})})));f($),$.MapWaldBootstrapModule;return f(h((function(e,t){var n=u&&u.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),o=u&&u.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||n(t,e,o)};Object.defineProperty(t,"__esModule",{value:!0}),o($,t)})))}));
//# sourceMappingURL=map-wald-visual.umd.min.js.map